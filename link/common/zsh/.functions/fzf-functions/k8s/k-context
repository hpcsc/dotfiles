local command=$1

if [ "$command" = "set" ]; then
  selected_context=$(kubectl config get-contexts --no-headers | awk '{ print ( match($1,/\*/) ? $2 : $1 ) }' | fzf-tmux --height 30% --reverse -1 -0 --header 'Select Kubernetes context')
  if [ "$selected_context" = "" ]; then
    exit 0
  fi;

  kubectl config use $selected_context
else
  kubectl config current-context
fi;
